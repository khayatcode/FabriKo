{"ast":null,"code":"var _jsxFileName = \"/Users/a.khayat/Documents/Project:Algo/FabriKo/client/src/components/EditProduct.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport FormProduct from './FormProduct';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProduct = props => {\n  _s();\n  const {\n    product,\n    setProduct,\n    setProductId\n  } = props;\n  const {\n    productId\n  } = useParams();\n  const [productInfo, setProductInfo] = useState({\n    productId: productId,\n    productName: \"\",\n    productPrice: \"\",\n    productDescription: \"\",\n    productCategory: \"\",\n    productImage1: null,\n    productImage2: null,\n    productImage3: null,\n    productImage4: null,\n    productImage5: null\n  });\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n  const changeHandler = e => {\n    if (e.target.type === \"file\") {\n      setProductInfo({\n        ...productInfo,\n        [e.target.name]: e.target.files[0]\n      });\n    } else {\n      setProductInfo({\n        ...productInfo,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n  useEffect(() => {\n    fetch(\"http://localhost:8080/product/\" + productId).then(res => res.json()).then(res => {\n      setProduct(res);\n    }).catch(err => console.log(err));\n  }, []);\n  const editProduct = e => {\n    const formData = new FormData();\n    formData.append(\"productId\", productInfo.productId);\n    formData.append(\"productName\", productInfo.productName);\n    formData.append(\"productPrice\", productInfo.productPrice);\n    formData.append(\"productDescription\", productInfo.productDescription);\n    formData.append(\"productCategory\", productInfo.productCategory);\n    formData.append(\"productImage1\", productInfo.productImage1);\n    formData.append(\"productImage2\", productInfo.productImage2);\n    formData.append(\"productImage3\", productInfo.productImage3);\n    formData.append(\"productImage4\", productInfo.productImage4);\n    formData.append(\"productImage5\", productInfo.productImage5);\n    e.preventDefault();\n    fetch(`http://localhost:8080/product/edit/` + productId, {\n      method: \"PUT\",\n      body: formData\n    }).then(res => {\n      console.log(res);\n      // if (res.data && res.data.errors) {\n      //     setErrors(res.data.errors)\n      // } \n      setProductInfo({\n        productName: \"\",\n        productPrice: \"\",\n        productDescription: \"\",\n        productCategory: \"\",\n        productImage1: null,\n        productImage2: null,\n        productImage3: null,\n        productImage4: null,\n        productImage5: null\n      });\n      setErrors({});\n      navigate(\"/product/view/\" + productId);\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(FormProduct, {\n      message: \"Edit Product\",\n      productInfo: productInfo,\n      setProductInfo: setProductInfo,\n      changeHandler: changeHandler,\n      submitHandler: editProduct,\n      errors: errors,\n      submitValue: \"Edit Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 9\n  }, this);\n};\n_s(EditProduct, \"9lQDlaiYbRUVZ0xc+IIPGJh2wyI=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = EditProduct;\nexport default EditProduct;\nvar _c;\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"names":["React","FormProduct","useState","useEffect","useNavigate","useParams","EditProduct","props","product","setProduct","setProductId","productId","productInfo","setProductInfo","productName","productPrice","productDescription","productCategory","productImage1","productImage2","productImage3","productImage4","productImage5","errors","setErrors","navigate","changeHandler","e","target","type","name","files","value","fetch","then","res","json","catch","err","console","log","editProduct","formData","FormData","append","preventDefault","method","body"],"sources":["/Users/a.khayat/Documents/Project:Algo/FabriKo/client/src/components/EditProduct.jsx"],"sourcesContent":["import React from 'react'\nimport FormProduct from './FormProduct'\nimport { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useParams } from 'react-router-dom'\n\n\nconst EditProduct = (props) => {\n    const { product, setProduct, setProductId } = props;\n    const { productId } = useParams()\n    const [productInfo, setProductInfo] = useState({\n        productId: productId,\n        productName: \"\",\n        productPrice: \"\",\n        productDescription: \"\",\n        productCategory: \"\",\n        productImage1: null,\n        productImage2: null,\n        productImage3: null,\n        productImage4: null,\n        productImage5: null\n    })\n    const [errors, setErrors] = useState({})\n    const navigate = useNavigate()\n\n    const changeHandler = (e) => {\n        if (e.target.type === \"file\") {\n            setProductInfo({\n                ...productInfo,\n                [e.target.name]: e.target.files[0]\n            })\n        } else {\n            setProductInfo({\n                ...productInfo,\n                [e.target.name]: e.target.value\n            })\n        }\n    }\n\n    useEffect(() => {\n        fetch(\"http://localhost:8080/product/\" + productId)\n            .then(res => res.json())\n            .then(res => {\n                setProduct(res)\n            })\n            .catch(err => console.log(err))\n    }, [])\n\n\n    const editProduct = (e) => {\n        const formData = new FormData()\n        formData.append(\"productId\", productInfo.productId)\n        formData.append(\"productName\", productInfo.productName)\n        formData.append(\"productPrice\", productInfo.productPrice)\n        formData.append(\"productDescription\", productInfo.productDescription)\n        formData.append(\"productCategory\", productInfo.productCategory)\n        formData.append(\"productImage1\", productInfo.productImage1)\n        formData.append(\"productImage2\", productInfo.productImage2)\n        formData.append(\"productImage3\", productInfo.productImage3)\n        formData.append(\"productImage4\", productInfo.productImage4)\n        formData.append(\"productImage5\", productInfo.productImage5)\n        e.preventDefault()\n        fetch(`http://localhost:8080/product/edit/` + productId, {\n            method: \"PUT\",\n            body: formData\n        })\n            .then(res => {\n                console.log(res)\n                // if (res.data && res.data.errors) {\n                //     setErrors(res.data.errors)\n                // } \n                    setProductInfo({\n                        productName: \"\",\n                        productPrice: \"\",\n                        productDescription: \"\",\n                        productCategory: \"\",\n                        productImage1: null,\n                        productImage2: null,\n                        productImage3: null,\n                        productImage4: null,\n                        productImage5: null\n                    })\n                    setErrors({})\n                    navigate(\"/product/view/\" + productId)\n            })\n            .catch(err => console.log(err))\n    }\n\n    return (\n        <div>\n            <FormProduct\n                message={\"Edit Product\"}\n                productInfo={productInfo}\n                setProductInfo={setProductInfo}\n                changeHandler={changeHandler}\n                submitHandler={editProduct}\n                errors={errors}\n                submitValue={\"Edit Product\"}\n            />\n        </div>\n    )\n}\n\nexport default EditProduct"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,QAAQ,kBAAkB;AAAA;AAG5C,MAAMC,WAAW,GAAIC,KAAK,IAAK;EAAA;EAC3B,MAAM;IAAEC,OAAO;IAAEC,UAAU;IAAEC;EAAa,CAAC,GAAGH,KAAK;EACnD,MAAM;IAAEI;EAAU,CAAC,GAAGN,SAAS,EAAE;EACjC,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC;IAC3CS,SAAS,EAAEA,SAAS;IACpBG,WAAW,EAAE,EAAE;IACfC,YAAY,EAAE,EAAE;IAChBC,kBAAkB,EAAE,EAAE;IACtBC,eAAe,EAAE,EAAE;IACnBC,aAAa,EAAE,IAAI;IACnBC,aAAa,EAAE,IAAI;IACnBC,aAAa,EAAE,IAAI;IACnBC,aAAa,EAAE,IAAI;IACnBC,aAAa,EAAE;EACnB,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAMuB,QAAQ,GAAGrB,WAAW,EAAE;EAE9B,MAAMsB,aAAa,GAAIC,CAAC,IAAK;IACzB,IAAIA,CAAC,CAACC,MAAM,CAACC,IAAI,KAAK,MAAM,EAAE;MAC1BhB,cAAc,CAAC;QACX,GAAGD,WAAW;QACd,CAACe,CAAC,CAACC,MAAM,CAACE,IAAI,GAAGH,CAAC,CAACC,MAAM,CAACG,KAAK,CAAC,CAAC;MACrC,CAAC,CAAC;IACN,CAAC,MAAM;MACHlB,cAAc,CAAC;QACX,GAAGD,WAAW;QACd,CAACe,CAAC,CAACC,MAAM,CAACE,IAAI,GAAGH,CAAC,CAACC,MAAM,CAACI;MAC9B,CAAC,CAAC;IACN;EACJ,CAAC;EAED7B,SAAS,CAAC,MAAM;IACZ8B,KAAK,CAAC,gCAAgC,GAAGtB,SAAS,CAAC,CAC9CuB,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACC,GAAG,IAAI;MACT1B,UAAU,CAAC0B,GAAG,CAAC;IACnB,CAAC,CAAC,CACDE,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACvC,CAAC,EAAE,EAAE,CAAC;EAGN,MAAMG,WAAW,GAAId,CAAC,IAAK;IACvB,MAAMe,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEhC,WAAW,CAACD,SAAS,CAAC;IACnD+B,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEhC,WAAW,CAACE,WAAW,CAAC;IACvD4B,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAEhC,WAAW,CAACG,YAAY,CAAC;IACzD2B,QAAQ,CAACE,MAAM,CAAC,oBAAoB,EAAEhC,WAAW,CAACI,kBAAkB,CAAC;IACrE0B,QAAQ,CAACE,MAAM,CAAC,iBAAiB,EAAEhC,WAAW,CAACK,eAAe,CAAC;IAC/DyB,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEhC,WAAW,CAACM,aAAa,CAAC;IAC3DwB,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEhC,WAAW,CAACO,aAAa,CAAC;IAC3DuB,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEhC,WAAW,CAACQ,aAAa,CAAC;IAC3DsB,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEhC,WAAW,CAACS,aAAa,CAAC;IAC3DqB,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEhC,WAAW,CAACU,aAAa,CAAC;IAC3DK,CAAC,CAACkB,cAAc,EAAE;IAClBZ,KAAK,CAAE,qCAAoC,GAAGtB,SAAS,EAAE;MACrDmC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEL;IACV,CAAC,CAAC,CACGR,IAAI,CAACC,GAAG,IAAI;MACTI,OAAO,CAACC,GAAG,CAACL,GAAG,CAAC;MAChB;MACA;MACA;MACItB,cAAc,CAAC;QACXC,WAAW,EAAE,EAAE;QACfC,YAAY,EAAE,EAAE;QAChBC,kBAAkB,EAAE,EAAE;QACtBC,eAAe,EAAE,EAAE;QACnBC,aAAa,EAAE,IAAI;QACnBC,aAAa,EAAE,IAAI;QACnBC,aAAa,EAAE,IAAI;QACnBC,aAAa,EAAE,IAAI;QACnBC,aAAa,EAAE;MACnB,CAAC,CAAC;MACFE,SAAS,CAAC,CAAC,CAAC,CAAC;MACbC,QAAQ,CAAC,gBAAgB,GAAGd,SAAS,CAAC;IAC9C,CAAC,CAAC,CACD0B,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAC;EACvC,CAAC;EAED,oBACI;IAAA,uBACI,QAAC,WAAW;MACR,OAAO,EAAE,cAAe;MACxB,WAAW,EAAE1B,WAAY;MACzB,cAAc,EAAEC,cAAe;MAC/B,aAAa,EAAEa,aAAc;MAC7B,aAAa,EAAEe,WAAY;MAC3B,MAAM,EAAElB,MAAO;MACf,WAAW,EAAE;IAAe;MAAA;MAAA;MAAA;IAAA;EAC9B;IAAA;IAAA;IAAA;EAAA,QACA;AAEd,CAAC;AAAA,GA9FKjB,WAAW;EAAA,QAESD,SAAS,EAcdD,WAAW;AAAA;AAAA,KAhB1BE,WAAW;AAgGjB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}