{"ast":null,"code":"var _jsxFileName = \"/Users/a.khayat/Documents/Project:Algo/FabriKo/client/src/components/Log.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Log = props => {\n  _s();\n  const {\n    sessionId,\n    setSessionId\n  } = props;\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n  const changeHandler = e => {\n    setUser({\n      ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n  const submitLog = e => {\n    e.preventDefault();\n    fetch(\"http://localhost:8080/api/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    }).then(res => {\n      if (!res.ok) {\n        throw new Error(\"Login failed. Please try again.\");\n      }\n      return res.json();\n    }).then(data => {\n      setErrors({});\n      setSessionId(data.email);\n      navigate(\"/\");\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container d-flex justify-content-center\",\n    style: {\n      padding: '18%'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center mb-4\",\n        style: {\n          fontWeight: 300\n        },\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitLog,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            id: \"email\",\n            placeholder: \"Email\",\n            name: \"email\",\n            value: user.email,\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-floating mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            id: \"password\",\n            placeholder: \"Password\",\n            name: \"password\",\n            value: user.password,\n            onChange: changeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-outline-dark\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col text-center\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              className: \"text-dark\",\n              to: \"/register\",\n              children: \"Don't have an account? Register here.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(Log, \"OBqWgX6N0w/hDQoWUeuKnyJzv6A=\", false, function () {\n  return [useNavigate];\n});\n_c = Log;\nexport default Log;\nvar _c;\n$RefreshReg$(_c, \"Log\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","Log","props","sessionId","setSessionId","user","setUser","email","password","errors","setErrors","navigate","changeHandler","e","target","name","value","submitLog","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","ok","Error","json","data","catch","err","console","log","padding","fontWeight"],"sources":["/Users/a.khayat/Documents/Project:Algo/FabriKo/client/src/components/Log.jsx"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { useNavigate, Link } from \"react-router-dom\";\n\nconst Log = (props) => {\n    const { sessionId, setSessionId } = props\n    const [user, setUser] = useState({\n        email: \"\",\n        password: \"\"\n    })\n    const [errors, setErrors] = useState({})\n    const navigate = useNavigate()\n\n    const changeHandler = (e) => {\n        setUser({\n            ...user,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const submitLog = (e) => {\n        e.preventDefault()\n        fetch(\"http://localhost:8080/api/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(user)\n        })\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(\"Login failed. Please try again.\");}\n                return res.json();})\n            .then(data => {\n                setErrors({});\n                setSessionId(data.email);\n                navigate(\"/\");\n        })\n        .catch(err => console.log(err))\n    }\n\n\n\n\n    return (\n        <div className='container d-flex justify-content-center' style={{ padding: '18%' }}>\n            <div className='col-md-6'>\n                <h1 className='text-center mb-4' style={{ fontWeight: 300 }}>Login</h1>\n                <form onSubmit={submitLog}>\n                    <div className='form-floating mb-3'>\n                        <input type='email' className='form-control' id='email' placeholder='Email' name='email' value={user.email} onChange={changeHandler} />\n                        <label htmlFor='email'>Email</label>\n                    </div>\n                    <div className='form-floating mb-3'>\n                        <input type='password' className='form-control' id='password' placeholder='Password' name='password' value={user.password} onChange={changeHandler} />\n                        <label htmlFor='password'>Password</label>\n                    </div>\n                    <button type='submit' className='btn btn-outline-dark'>Login</button>\n                    <div className='row mt-3'>\n                        <div className='col text-center'>\n                            <Link className='text-dark' to='/register'>Don't have an account? Register here.</Link>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default Log"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}