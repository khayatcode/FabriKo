{"ast":null,"code":"var _jsxFileName = \"/Users/a.khayat/Documents/Project:Algo/FabriKo/client/src/components/CreateProduct.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport FormProduct from './FormProduct';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateProduct = () => {\n  _s();\n  const [productInfo, setProductInfo] = useState({\n    productName: \"\",\n    productCategory: \"\",\n    productPrice: \"\",\n    productDescription: \"\",\n    productImage1: null,\n    productImage2: null,\n    productImage3: null,\n    productImage4: null,\n    productImage5: null\n  });\n  const [errors, setErrors] = useState({});\n  const changeHandler = e => {\n    // do it so that it can handle file uploads for all 5 images, and also the other fields\n    console.log(\"e.target.name:\", e.target.name);\n    console.log(\"e.target.value:\", e.target.value);\n    if (e.target.type === \"file\") {\n      setProductInfo({\n        ...productInfo,\n        [e.target.name]: e.target.files[0]\n      });\n    } else {\n      setProductInfo({\n        ...productInfo,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n  const createProduct = e => {\n    const formData = new FormData();\n    formData.append(\"productName\", productInfo.productName);\n    formData.append(\"productCategory\", productInfo.productCategory);\n    formData.append(\"productPrice\", productInfo.productPrice);\n    formData.append(\"productDescription\", productInfo.productDescription);\n    formData.append(\"productImage1\", productInfo.productImage1);\n    formData.append(\"productImage2\", productInfo.productImage2);\n    formData.append(\"productImage3\", productInfo.productImage3);\n    formData.append(\"productImage4\", productInfo.productImage4);\n    formData.append(\"productImage5\", productInfo.productImage5);\n    e.preventDefault();\n    fetch(\"http://localhost:8080/api/create/product\", {\n      method: \"POST\",\n      body: formData\n    }).then(res => {\n      console.log(res);\n      if (res.data && res.data.errors) {\n        setErrors(res.data.errors);\n      } else {\n        setProductInfo({\n          productName: \"\",\n          productCategory: \"\",\n          productPrice: \"\",\n          productDescription: \"\",\n          productImage1: \"\",\n          productImage2: \"\",\n          productImage3: \"\",\n          productImage4: \"\",\n          productImage5: \"\"\n        });\n        setErrors({});\n      }\n    }).catch(err => console.log(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(FormProduct, {\n      message: \"Create a Product\",\n      productInfo: productInfo,\n      setProductInfo: setProductInfo,\n      errors: errors,\n      changeHandler: changeHandler,\n      submitProduct: createProduct,\n      submitValue: \"Create Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateProduct, \"dEe3DajeWiQYxc6EqSFssP6Fe90=\");\n_c = CreateProduct;\nexport default CreateProduct;\nvar _c;\n$RefreshReg$(_c, \"CreateProduct\");","map":{"version":3,"names":["React","FormProduct","useState","useNavigate","CreateProduct","productInfo","setProductInfo","productName","productCategory","productPrice","productDescription","productImage1","productImage2","productImage3","productImage4","productImage5","errors","setErrors","changeHandler","e","console","log","target","name","value","type","files","createProduct","formData","FormData","append","preventDefault","fetch","method","body","then","res","data","catch","err"],"sources":["/Users/a.khayat/Documents/Project:Algo/FabriKo/client/src/components/CreateProduct.jsx"],"sourcesContent":["import React from 'react'\nimport FormProduct from './FormProduct'\nimport { useState } from 'react'\nimport { useNavigate } from 'react-router-dom'\n\nconst CreateProduct = () => {\n    const [productInfo, setProductInfo] = useState({\n        productName: \"\",\n        productCategory: \"\",\n        productPrice: \"\",\n        productDescription: \"\",\n        productImage1: null,\n        productImage2: null,\n        productImage3: null,\n        productImage4: null,\n        productImage5: null\n    })\n    const [errors, setErrors] = useState({})\n\n    const changeHandler = (e) => {\n      // do it so that it can handle file uploads for all 5 images, and also the other fields\n      console.log(\"e.target.name:\", e.target.name)\n      console.log(\"e.target.value:\", e.target.value)\n      if (e.target.type === \"file\") {\n        setProductInfo({\n          ...productInfo,\n          [e.target.name]: e.target.files[0]\n        })\n      } else {\n        setProductInfo({\n          ...productInfo,\n          [e.target.name]: e.target.value\n        })\n      }\n  }\n\n    const createProduct = (e) => {\n      const formData = new FormData()\n      formData.append(\"productName\", productInfo.productName)\n      formData.append(\"productCategory\", productInfo.productCategory)\n      formData.append(\"productPrice\", productInfo.productPrice)\n      formData.append(\"productDescription\", productInfo.productDescription)\n      formData.append(\"productImage1\", productInfo.productImage1)\n      formData.append(\"productImage2\", productInfo.productImage2)\n      formData.append(\"productImage3\", productInfo.productImage3)\n      formData.append(\"productImage4\", productInfo.productImage4)\n      formData.append(\"productImage5\", productInfo.productImage5)\n      e.preventDefault()\n      fetch(\"http://localhost:8080/api/create/product\", {\n        method: \"POST\",\n        body: formData\n      })\n        .then(res => {\n          console.log(res)\n          if (res.data && res.data.errors) {\n            setErrors(res.data.errors)\n          } else {\n            setProductInfo({\n              productName: \"\",\n              productCategory: \"\",\n              productPrice: \"\",\n              productDescription: \"\",\n              productImage1: \"\",\n              productImage2: \"\",\n              productImage3: \"\",\n              productImage4: \"\",\n              productImage5: \"\"\n            })\n            setErrors({})\n          }\n        })\n        .catch(err => console.log(err))\n    }\n\n\n  return (\n    <div>\n      <FormProduct\n        message=\"Create a Product\"\n        productInfo={productInfo}\n        setProductInfo={setProductInfo}\n        errors={errors}\n        changeHandler={changeHandler}\n        submitProduct={createProduct}\n        submitValue=\"Create Product\" \n      />\n    </div>\n  )\n}\n\nexport default CreateProduct"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}